{"version":3,"sources":["index.js","../node_modules/eases-jsnext/dist/eases.es.js","lib/geometry.js","components/layout/elsewhere/elsewhereItem/elsewhereItemEffects/elsewhereItemEffects.component.js"],"names":["gtag","dataLayer","push","arguments","window","Date","backInOut","t","s","backIn","backOut","bounceOut","a","t2","bounceInOut","bounceIn","circInOut","Math","sqrt","circIn","circOut","cubicInOut","pow","cubicIn","cubicOut","f","elasticInOut","sin","PI","elasticIn","elasticOut","expoInOut","expoIn","expoOut","linear","quadInOut","quadIn","quadOut","quarticInOut","quarticIn","quarticOut","qinticInOut","qinticIn","qinticOut","sineInOut","cos","sineIn","v","abs","sineOut","gridColumns","gridUnitsPerSquare","maxGridUnitDips","calculateElsewhereSquareSize","innerWidth","devicePixelRatio","maxGridUnitSize","nominalGridUnitSize","gridUnitSize","min","enterDurationMs","exitDurationMs","twoPi","nodeList","document","querySelectorAll","elements","Array","from","contexts","map","element","getContext","squareSize","fillRadius","updateFillRadius","aSquared","cSquared","c","ceil","createFillState","x","y","enterTime","exitTime","fillFactor","fillStates","length","forEach","index","parentElement","fillState","getCoordinatesInElement","clientX","clientY","getBoundingClientRect","elementX","elementY","addEventListener","event","now","render","state","context","canvas","fillColor","getComputedStyle","getPropertyValue","trim","fillStyle","clearRect","width","height","beginPath","arc","fill","animationLoop","requestAnimationFrame","entering","exiting","elapsed","max","onResize","Object","assign"],"mappings":"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","file":"src.b4a90cf1.js","sourceRoot":"src","sourcesContent":["import './**/*.component.js';\n\nwindow.dataLayer = window.dataLayer || [];\nfunction gtag(){dataLayer.push(arguments);}\ngtag('js', new Date());\ngtag('config', 'UA-63102701-1');\n","function backInOut(t) {\n  var s = 1.70158 * 1.525;\n  if ((t *= 2) < 1)\n    return 0.5 * (t * t * ((s + 1) * t - s))\n  return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2)\n}\n\nfunction backIn(t) {\n  var s = 1.70158;\n  return t * t * ((s + 1) * t - s)\n}\n\nfunction backOut(t) {\n  var s = 1.70158;\n  return --t * t * ((s + 1) * t + s) + 1\n}\n\nfunction bounceOut(t) {\n  var a = 4.0 / 11.0;\n  var b = 8.0 / 11.0;\n  var c = 9.0 / 10.0;\n\n  var ca = 4356.0 / 361.0;\n  var cb = 35442.0 / 1805.0;\n  var cc = 16061.0 / 1805.0;\n\n  var t2 = t * t;\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72\n}\n\nfunction bounceInOut(t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5\n}\n\nfunction bounceIn(t) {\n  return 1.0 - bounceOut(1.0 - t)\n}\n\nfunction circInOut(t) {\n  if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1)\n  return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)\n}\n\nfunction circIn(t) {\n  return 1.0 - Math.sqrt(1.0 - t * t)\n}\n\nfunction circOut(t) {\n  return Math.sqrt(1 - ( --t * t ))\n}\n\nfunction cubicInOut(t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0\n}\n\nfunction cubicIn(t) {\n  return t * t * t\n}\n\nfunction cubicOut(t) {\n  var f = t - 1.0;\n  return f * f * f + 1.0\n}\n\nfunction elasticInOut(t) {\n  return t < 0.5\n    ? 0.5 * Math.sin(+13.0 * Math.PI/2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n    : 0.5 * Math.sin(-13.0 * Math.PI/2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0\n}\n\nfunction elasticIn(t) {\n  return Math.sin(13.0 * t * Math.PI/2) * Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nfunction elasticOut(t) {\n  return Math.sin(-13.0 * (t + 1.0) * Math.PI/2) * Math.pow(2.0, -10.0 * t) + 1.0\n}\n\nfunction expoInOut(t) {\n  return (t === 0.0 || t === 1.0)\n    ? t\n    : t < 0.5\n      ? +0.5 * Math.pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0\n}\n\nfunction expoIn(t) {\n  return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nfunction expoOut(t) {\n  return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t)\n}\n\nfunction linear(t) {\n  return t\n}\n\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1) return 0.5*t*t\n    t--;\n    return -0.5 * (t*(t-2) - 1)\n}\n\nfunction quadIn(t) {\n  return t * t\n}\n\nfunction quadOut(t) {\n  return -t * (t - 2.0)\n}\n\nfunction quarticInOut(t) {\n  return t < 0.5\n    ? +8.0 * Math.pow(t, 4.0)\n    : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0\n}\n\nfunction quarticIn(t) {\n  return Math.pow(t, 4.0)\n}\n\nfunction quarticOut(t) {\n  return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0\n}\n\nfunction qinticInOut(t) {\n    if ( ( t *= 2 ) < 1 ) return 0.5 * t * t * t * t * t\n    return 0.5 * ( ( t -= 2 ) * t * t * t * t + 2 )\n}\n\nfunction qinticIn(t) {\n  return t * t * t * t * t\n}\n\nfunction qinticOut(t) {\n  return --t * t * t * t * t + 1\n}\n\nfunction sineInOut(t) {\n  return -0.5 * (Math.cos(Math.PI*t) - 1)\n}\n\nfunction sineIn (t) {\n  var v = Math.cos(t * Math.PI * 0.5);\n  if (Math.abs(v) < 1e-14) return 1\n  else return 1 - v\n}\n\nfunction sineOut(t) {\n  return Math.sin(t * Math.PI/2)\n}\n\nexport { backInOut, backIn, backOut, bounceInOut, bounceIn, bounceOut, circInOut, circIn, circOut, cubicInOut, cubicIn, cubicOut, elasticInOut, elasticIn, elasticOut, expoInOut, expoIn, expoOut, linear, quadInOut, quadIn, quadOut, quarticInOut as quartInOut, quarticIn as quartIn, quarticOut as quartOut, qinticInOut as quintInOut, qinticIn as quintIn, qinticOut as quintOut, sineInOut, sineIn, sineOut };\n","/**\n * Keep in sync with geometry.styl\n */\n\nexport const gridColumns = 46;\nexport const gridUnitsPerSquare = 6;\nexport const maxGridUnitDips = 30;\n\nexport const calculateElsewhereSquareSize = ({\n  innerWidth,\n  devicePixelRatio\n}) => {\n  const maxGridUnitSize = maxGridUnitDips * devicePixelRatio;\n  const nominalGridUnitSize = (innerWidth * devicePixelRatio) / gridColumns;\n  const gridUnitSize = Math.min(maxGridUnitSize, nominalGridUnitSize);\n  return gridUnitSize * gridUnitsPerSquare;\n};\n","import { expoIn, expoOut } from 'eases-jsnext';\nimport { calculateElsewhereSquareSize } from '~/lib/geometry.js';\n\nconst enterDurationMs = 500;\nconst exitDurationMs = 200;\nconst twoPi = 2 * Math.PI;\n\nconst nodeList = document.querySelectorAll('canvas.elsewhere-item-effects');\nconst elements = Array.from(nodeList);\nconst contexts = elements.map(element => element.getContext('2d'));\n\nlet squareSize = 0;\nlet fillRadius = 0;\nconst updateFillRadius = squareSize => {\n  const aSquared = Math.pow(squareSize, 2);\n  const bSquared = aSquared;\n  const cSquared = aSquared + bSquared;\n  const c = Math.sqrt(cSquared);\n  fillRadius = Math.ceil(c);\n};\n\nconst createFillState = () => ({\n  x: null,\n  y: null,\n  enterTime: null,\n  exitTime: null,\n  fillFactor: 0\n});\n\nconst fillStates = Array.from({ length: elements.length }, createFillState);\n\nelements.forEach((element, index) => {\n  const { parentElement } = element;\n  const fillState = fillStates[index];\n\n  const getCoordinatesInElement = (clientX, clientY) => {\n    const { x: elementX, y: elementY } = element.getBoundingClientRect();\n    return [\n      (clientX - elementX) * window.devicePixelRatio,\n      (clientY - elementY) * window.devicePixelRatio\n    ];\n  };\n\n  parentElement.addEventListener('mouseenter', event => {\n    const [x, y] = getCoordinatesInElement(event.clientX, event.clientY);\n    fillState.x = x;\n    fillState.y = y;\n    fillState.enterTime = Date.now();\n  });\n\n  parentElement.addEventListener('mousemove', event => {\n    const [x, y] = getCoordinatesInElement(event.clientX, event.clientY);\n    fillState.x = x;\n    fillState.y = y;\n    fillState.enterTime = fillState.enterTime || Date.now();\n  });\n\n  parentElement.addEventListener('mouseleave', event => {\n    const [x, y] = getCoordinatesInElement(event.clientX, event.clientY);\n    fillState.x = x;\n    fillState.y = y;\n    fillState.exitTime = Date.now();\n  });\n});\n\nconst render = (state, context) => {\n  const { canvas } = context;\n  const computedStyle = window.getComputedStyle(canvas);\n  const fillColor = computedStyle.getPropertyValue('--fill-color').trim();\n  context.fillStyle = fillColor;\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  context.beginPath();\n  context.arc(state.x, state.y, fillRadius * state.fillFactor, 0, twoPi);\n  context.fill();\n};\n\nconst animationLoop = () =>\n  window.requestAnimationFrame(() => {\n    const now = Date.now();\n    fillStates.forEach((state, index) => {\n      const entering = state.enterTime > state.exitTime && state.fillFactor < 1;\n      const exiting = state.exitTime > state.enterTime && state.fillFactor > 0;\n      if (entering) {\n        const elapsed = now - state.enterTime;\n        state.fillFactor = expoOut(elapsed / enterDurationMs);\n        render(state, contexts[index]);\n      } else if (exiting) {\n        const elapsed = now - state.exitTime;\n        state.fillFactor = expoIn(Math.max(1 - elapsed / exitDurationMs, 0));\n        render(state, contexts[index]);\n      }\n    });\n    animationLoop();\n  });\nanimationLoop();\n\nconst onResize = () =>\n  window.requestAnimationFrame(() => {\n    squareSize = calculateElsewhereSquareSize(window);\n    updateFillRadius(squareSize);\n    elements.forEach(element => {\n      element.width = squareSize;\n      element.height = squareSize;\n    });\n    fillStates.forEach(state => {\n      Object.assign(state, createFillState());\n    });\n  });\nonResize();\nwindow.addEventListener('resize', onResize);\n"]}